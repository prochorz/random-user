var V=Object.defineProperty;var P=(e,t,r)=>t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var _=(e,t,r)=>(P(e,typeof t!="symbol"?t+"":t,r),r);import{d,c as L,a as u,b,t as g,n as j,o as c,r as h,F as N,e as O,f as U,g as A,h as F,i as k,T as B,w as W,j as E,k as q,l as Y,E as f,I as $,m as w,p as D,q as G,u as H,s as z,v as K}from"./vendor.81c0cd8f.js";const J=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}};J();var v=(e,t)=>{for(const[r,n]of t)e[r]=n;return e};const Q=d({name:"ATabItem",props:{name:{type:String,required:!0},isActive:{type:Boolean,default:!1}},emits:{onClick:null},setup(e,{emit:t}){const r=L(()=>e.isActive&&"tab-item--active");function n(){t("onClick",e.name)}return{activeClass:r,onClickHandler:n}}}),X={class:"tab-item__wrapper"};function Z(e,t,r,n,s,o){return c(),u("div",{class:j(["a-tab-item",e.activeClass]),onClick:t[0]||(t[0]=(...a)=>e.onClickHandler&&e.onClickHandler(...a))},[b("div",X,g(e.name),1)],2)}var ee=v(Q,[["render",Z]]);const te=d({name:"MTabList",components:{ATabItem:ee},props:{modelValue:{type:String,required:!0},list:{type:Array,default:()=>[]},atAttribute:{type:String,default:""}},emits:{"update:modelValue":null},setup(e,{emit:t}){function r(s){return s===e.modelValue}function n(s){t("update:modelValue",s)}return{activeTab:r,letterChange:n}}}),se=["at-m-tab-list"];function re(e,t,r,n,s,o){const a=h("ATabItem");return c(),u("div",{"at-m-tab-list":e.atAttribute,class:"m-tab-list"},[(c(!0),u(N,null,O(e.list,l=>(c(),u("div",{key:l,class:"tab-list__item"},[U(a,{name:l,"is-active":e.activeTab(l),onOnClick:e.letterChange},null,8,["name","is-active","onOnClick"])]))),128))],8,se)}var ne=v(te,[["render",re]]);const oe=d({name:"AUserRow",components:{},props:{name:{type:String,required:!0},picture:{type:String,default:""},atAttribute:{type:String,default:""}},emits:{},setup(){}}),ae=["at-a-user-row"],ie={class:"user-row__avatar"},le=["src"];function ce(e,t,r,n,s,o){return c(),u("div",{"at-a-user-row":e.atAttribute,class:"a-user-row"},[b("div",ie,[b("img",{src:e.picture},null,8,le)]),b("div",null,g(e.name),1)],8,ae)}var ue=v(oe,[["render",ce]]);const pe=d({name:"ATooltipWrapper",props:{text:{type:String,default:""}}}),de={class:"a-tooltip-wrapper"};function _e(e,t,r,n,s,o){return c(),u("div",de,g(e.text),1)}var me=v(pe,[["render",_e]]);function fe(){function e(t,r){const n=s=>{t.some(a=>{const l=(a==null?void 0:a.value)||a;return l&&(l===s.target||l.contains(s.target))})||(r(),document.removeEventListener("click",n))};document.addEventListener("click",n)}return{setClickOutsideListener:e}}const ve=d({name:"ATooltipRender",props:{text:{type:String,default:""}},setup(e,{slots:t}){const r=A(),n=A(!1),s=F({left:"",top:""}),{setClickOutsideListener:o}=fe();function a(){n.value=!1}function l(){const i=r.value.getBoundingClientRect();s.left=i.x+i.width/2+"px",s.top=i.y+i.height+"px",n.value=!0,o([r],a)}function p(i){r.value=i,i.addEventListener("click",l)}function x(){if(!n.value)return null;const i={text:e.text,style:s};return k(B,{to:"body"},k(me,i))}function M(){let i=t.default&&t.default()[0];return i&&(i=W(i,[[{mounted:p}]])),i}return()=>[M(),x()]}});const ye=d({name:"MUserList",components:{AUserRow:ue,ATooltipWrapper:ve},props:{users:{type:Array,default:()=>[]}}}),be={class:"m-user-list"};function he(e,t,r,n,s,o){const a=h("AUserRow"),l=h("ATooltipWrapper");return c(),u("div",be,[(c(!0),u(N,null,O(e.users,p=>(c(),E(l,{key:p.id,text:p.email},{default:q(()=>[U(a,{name:p.fullName,picture:p.avatar},null,8,["name","picture"])]),_:2},1032,["text"]))),128))])}var $e=v(ye,[["render",he]]);const Le="Contact List",ge="https://randomuser.me/",Ce=120,Se=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];var C={title:Le,userUrl:ge,numberCards:Ce,tabs:Se};const Te={baseURL:C.userUrl+"api/",params:{results:C.numberCards}};class Ue{constructor(t){_(this,"instance");this.instance=Y.create(t)}get(t,r){return this.instance.get(t,{params:r})}}const Ae=new Ue(Te);var Ee=Object.defineProperty,we=Object.getOwnPropertyDescriptor,y=(e,t,r,n)=>{for(var s=n>1?void 0:n?we(t,r):t,o=e.length-1,a;o>=0;o--)(a=e[o])&&(s=(n?a(t,r,s):a(s))||s);return n&&s&&Ee(t,r,s),s};class m{constructor(){_(this,"id");_(this,"email");_(this,"avatar");_(this,"firstName");_(this,"lastName")}get fullName(){return`${this.lastName} ${this.firstName}`}}y([f({name:"phone"}),$()],m.prototype,"id",2);y([f(),$()],m.prototype,"email",2);y([f(),$(),w(e=>e.obj.picture.thumbnail,{toClassOnly:!0})],m.prototype,"avatar",2);y([f(),$(),w(e=>e.obj.name.first,{toClassOnly:!0})],m.prototype,"firstName",2);y([f(),$(),w(e=>e.obj.name.last,{toClassOnly:!0})],m.prototype,"lastName",2);y([f()],m.prototype,"fullName",1);async function Ne(){const e={inc:"name,picture,phone,email"},{data:t}=await Ae.get("/",e);return t.results.map(r=>D(m,r,{excludeExtraneousValues:!0}))}var S;(function(e){e.ASYNC_GET_USERS="ASYNC_GET_USERS"})(S||(S={}));var T;(function(e){e.USERS_FILL="USERS_FILL"})(T||(T={}));const Oe={users:[]},ke={[T.USERS_FILL](e,t){e.users=t}},Re={users:e=>e.users},Ie={async[S.ASYNC_GET_USERS]({commit:e}){let t;try{t=await Ne(),e(T.USERS_FILL,t)}catch(r){console.error(r)}return t||[]}},xe={namespaced:!0,state:()=>Oe,actions:Ie,mutations:ke,getters:Re},Me=!1,Ve=[],Pe=G({strict:Me,modules:{lists:xe},plugins:Ve}),R="store";function I(){const e=H(R),t=L(()=>e.getters["lists/users"]);function r(){e.dispatch("lists/"+S.ASYNC_GET_USERS)}return{userList:t,fillUserList:r}}const je=d({name:"OUserList",components:{MTabList:ne,MUserList:$e},setup(){const{userList:e}=I(),t=A(C.tabs[0]),r=L(()=>{const s=t.value.toLowerCase();return e.value.filter(o=>o.lastName.toLowerCase().startsWith(s)).sort((o,a)=>o.lastName>a.lastName?1:-1)});return{isUsersExist:L(()=>Boolean(r.value.length)),currentTab:t,filteredUsers:r,tabs:C.tabs}}}),Fe={class:"o-user-list"},Be={class:"user-list__content"},We={key:1};function qe(e,t,r,n,s,o){const a=h("MTabList"),l=h("MUserList");return c(),u("div",Fe,[U(a,{modelValue:e.currentTab,"onUpdate:modelValue":t[0]||(t[0]=p=>e.currentTab=p),list:e.tabs,class:"user-list__tab"},null,8,["modelValue","list"]),b("div",Be,[e.isUsersExist?(c(),E(l,{key:0,users:e.filteredUsers},null,8,["users"])):(c(),u("div",We,' Letter "'+g(e.currentTab)+'" is empty... ',1))])])}var Ye=v(je,[["render",qe]]);const De=d({setup(e){const{fillUserList:t}=I();return t(),(r,n)=>(c(),E(z(Ye)))}});K(De).use(Pe,R).mount("#app");
